(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVDhPjZExDgFBFIb/WRIKEoVC4QBKjWgcQ0HiBgpuolQqNXqNRHTYFQV32MIBFDZ4781kZc2M9SWz++Zlvn9mMnCyRxMRzjQeNJamaxGYf5YiRvRtSwUMJMyBW36hbCpNSUIs3PKfaPmKCrZfu/mIUKe1cpKAJj3cEZMeS/2LI6b0vdHaCw5o8M5zKJoq1Oiua28AiwFmUiu0UMA4oGIjDYZDOEChazqaJyapqEmot1Ny/qq8ZV/3c0logyE6WCmZ/h+QijzRMpMfkBGZj8z4AyyRycqMHeAU/XDACQuE9Kah7xrAGxFgQAnvDXZDAAAAAElFTkSuQmCC"},50:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADESURBVDhPjZCxDcIwEEWPKAUFJQUFBYOkZAQGoaREYgBGoKRgAMagYAiKlCkjEd6ZOykxcfCXns4+3/+xI2N6i6zhAS1crZ2nTuQAnaNhdjRQYTXW3GrQTKS05UApc5aCmastYPC1lJhbQrhJwaKCl1GFiYR4+55SM/eElTZ04T+m0QA4es/YqLHfY39S8zlqNnCPevFMS93qG0o2t/7hFGqE3fchiGZWwI/RxeFkQNLoYmg04K/RFQdkG10WcIE6bRT5AMwdtKji/BXnAAAAAElFTkSuQmCC"},57:function(e,a,t){e.exports=t(93)},93:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(19),l=t.n(r),o=(t(62),t(28)),m=t.n(o),i=t(56),s=t(31),u=t(47),p=t(18),A=t(101),E=t(102),d=t(99),h=t(95),g=t(48),f=t(17),y=t.n(f),b=t(14),v=t(12),C=t(100),w=t(96),k=t(97),x="4WWYR8B8JJZYQWHU";function Q(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},t=0,n=Object.entries(e);t<n.length;t++){var c=n[t],r=Object(p.a)(c,2),l=r[0],o=r[1];a[l.replace(/\d+\.\s+/gi,"")]=o}return a}function S(e){var a,t=e.addCompany,n=e.companies,r=e.results,l=e.updateResults,o=n.map(function(e){return e.symbol}),m=c.a.createRef();function i(e){y.a.get("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(encodeURI(e),"&apikey=").concat(x)).then(function(e){var a=e.data.bestMatches.map(function(e){return Q(e)});l(a)}).catch(function(e){return console.log(e)})}function s(e){e.stopPropagation(),e.preventDefault();var a=m.value;a&&a.length&&i(a)}return c.a.createElement(h.a,null,c.a.createElement(g.a,{xs:"auto"},c.a.createElement("h3",null,"Find companies to track"),c.a.createElement(C.a,{onSubmit:s},c.a.createElement(h.a,null,c.a.createElement(g.a,{sm:8},c.a.createElement(C.a.Control,{ref:m,type:"text",onChange:function(e){e.stopPropagation();var t=e.target.value;t.length&&(clearTimeout(a),a=setTimeout(function(){i(t)},500))}})),c.a.createElement(g.a,null,c.a.createElement(w.a,{onClick:s},"Search"))),c.a.createElement("p",null)),c.a.createElement(h.a,null,!!r.length&&c.a.createElement(g.a,{xs:"auto"},c.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("tbody",null,r.map(function(e,a){return c.a.createElement("tr",{key:e.symbol},c.a.createElement("td",null,"".concat(a+1,".")),c.a.createElement("td",null,e.symbol),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement(w.a,{disabled:o.includes(e.symbol),onClick:function(){t(e)}},"add")))})))))))}var R=t(98),O=t(49),F=t.n(O),j=t(50),N=t.n(j);function B(e){var a=e.companies.map(function(e){return c.a.createElement(R.a,{as:"li",key:e.symbol},c.a.createElement("img",{width:64,height:64,className:"mr-3",src:e.logo,alt:""}),c.a.createElement(R.a.Body,null,c.a.createElement("h5",null,e.name,c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("small",null,c.a.createElement("span",null,"\xa0\xa0"),"".concat(e.symbol),c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("a",{href:e.domain},e.domain))),c.a.createElement("p",null,"".concat(e.region," ").concat(e.marketOpen," - ").concat(e.marketClose," ").concat(e.timezone)),c.a.createElement("p",null,isNaN(e.price)?c.a.createElement("b",{className:"text-danger"},"Error"):c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,parseFloat(e.price).toFixed(2)),c.a.createElement("span",null,"\xa0"),e.currency,c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("span",{className:parseFloat(e.change)>0?"text-success":"text-danger"}," ".concat(parseFloat(e.change).toFixed(2)," (").concat(parseFloat(e.percentChange).toFixed(2),") "),parseFloat(e.change)>0?c.a.createElement("img",{src:F.a,style:{transform:"rotate(180deg)"},alt:""}):c.a.createElement("img",{src:N.a,alt:""})),c.a.createElement("span",null,"\xa0\xa0")," Closed: ",c.a.createElement("span",null,"\xa0"),e.closed))))});return c.a.createElement(h.a,null,c.a.createElement(g.a,{xs:"auto"},c.a.createElement("h2",null,"Companies:"),c.a.createElement("p",null),c.a.createElement("ul",null,a)))}var M=JSON.parse(localStorage.getItem("stockTrackerCompanies"))||[];var U=function(){var e=Object(n.useState)(M),a=Object(p.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)([]),o=Object(p.a)(l,2),f=o[0],C=o[1];function w(){return(w=Object(u.a)(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.map(function(e){return Object(s.a)({},e)}),n=(n=a.map(function(e,t){return{index:n=t,symbol:(c=a)[n].symbol,getData:function(){var e=this;return y.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(this.symbol,"&apikey=").concat(x)).then(function(a){var t=Q(a.data["Global Quote"]);c[e.index].change=30*Math.random()+0,c[e.index].percentChange=Math.random(),c[e.index].price=100*Math.random(),c[e.index].closed=t["latest trading day"],r(c)})}};var n,c})).map(function(e){return e.getData()}),Promise.all(n).then(function(){localStorage.setItem("stockTrackerCompanies",JSON.stringify(a))});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){try{var a=Object(s.a)({},e),n=function(e){return e.toLowerCase().replace("inc.","").replace("L.P.","").replace("technologies","").replace("ltd.","").replace("corporation","").replace("company","").replace("holdings","").replace("corp.","").replace("plc","").replace("s.a.","").replace("& co.","").replace("oyj","").trim()}(e.name);y.a.get("https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(n)).then(function(e){a.logo=e.data[0].logo||"",a.domain=e.data[0].domain||""}).then(function(){return y.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(e.symbol,"&apikey=").concat(x))}).then(function(e){var t=Q(e.data["Global Quote"]);a.change=t.change,a.percentChange=t["change percent"],a.price=t.price,a.closed=t["latest trading day"]}).catch(function(e){return console.log(e)}).finally(function(){var e=[].concat(Object(i.a)(t),[a]);localStorage.setItem("stockTrackerCompanies",JSON.stringify(e)),r(e)})}catch(c){console.log(c.message)}}return Object(n.useEffect)(function(){!function(){w.apply(this,arguments)}()},[]),c.a.createElement(b.a,null,c.a.createElement(A.a,{bg:"light",expand:"sm"},c.a.createElement(A.a.Brand,{href:"#home"},"Stock tracker"),c.a.createElement(E.a,{className:"mr-auto",onClick:function(){C([])}},c.a.createElement(b.b,{className:"btn",to:"/"},"Home"),c.a.createElement(b.b,{className:"btn",to:"/find"},"Find Companies"),c.a.createElement(b.b,{className:"btn",to:"/companies"},"Companies"))),c.a.createElement(d.a,null,c.a.createElement(v.a,{path:"/",exact:!0,component:function(){return c.a.createElement(h.a,null,c.a.createElement(g.a,{sm:"auto"},c.a.createElement("h2",null,"Welcome on our Stock tracker"),t.length?c.a.createElement("p",null,c.a.createElement(b.b,{to:"/companies"},"Track your companies")):c.a.createElement("p",null,"There are no companies yet.",c.a.createElement(b.b,{to:"/find"}," Track your first company."))))}}),c.a.createElement(v.a,{path:"/companies",component:function(){return c.a.createElement(B,{companies:t})}}),c.a.createElement(v.a,{path:"/find",component:function(){return c.a.createElement(S,{addCompany:k,companies:t,results:f,updateResults:C})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,1,2]]]);
//# sourceMappingURL=main.988ba333.chunk.js.map