(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVDhPjZExDgFBFIb/WRIKEoVC4QBKjWgcQ0HiBgpuolQqNXqNRHTYFQV32MIBFDZ4781kZc2M9SWz++Zlvn9mMnCyRxMRzjQeNJamaxGYf5YiRvRtSwUMJMyBW36hbCpNSUIs3PKfaPmKCrZfu/mIUKe1cpKAJj3cEZMeS/2LI6b0vdHaCw5o8M5zKJoq1Oiua28AiwFmUiu0UMA4oGIjDYZDOEChazqaJyapqEmot1Ny/qq8ZV/3c0logyE6WCmZ/h+QijzRMpMfkBGZj8z4AyyRycqMHeAU/XDACQuE9Kah7xrAGxFgQAnvDXZDAAAAAElFTkSuQmCC"},49:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADESURBVDhPjZCxDcIwEEWPKAUFJQUFBYOkZAQGoaREYgBGoKRgAMagYAiKlCkjEd6ZOykxcfCXns4+3/+xI2N6i6zhAS1crZ2nTuQAnaNhdjRQYTXW3GrQTKS05UApc5aCmastYPC1lJhbQrhJwaKCl1GFiYR4+55SM/eElTZ04T+m0QA4es/YqLHfY39S8zlqNnCPevFMS93qG0o2t/7hFGqE3fchiGZWwI/RxeFkQNLoYmg04K/RFQdkG10WcIE6bRT5AMwdtKji/BXnAAAAAElFTkSuQmCC"},57:function(e,a,t){e.exports=t(93)},93:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(19),l=t.n(r),o=(t(62),t(28)),s=t.n(o),m=t(55),i=t(56),u=t(46),p=t(18),A=t(101),E=t(102),h=t(99),g=t(95),d=t(47),f=t(17),b=t.n(f),y=t(14),v=t(12),k=t(100),C=t(96),w=t(97),x="4WWYR8B8JJZYQWHU";function Q(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={},t=0,n=Object.entries(e);t<n.length;t++){var c=n[t],r=Object(p.a)(c,2),l=r[0],o=r[1];a[l.replace(/\d+\.\s+/gi,"")]=o}return a}function S(e){var a,t=e.addCompany,n=e.companies,r=e.results,l=e.updateResults,o=n.map(function(e){return e.symbol}),s=c.a.createRef();function m(e){b.a.get("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(encodeURI(e),"&apikey=").concat(x)).then(function(e){var a=e.data.bestMatches.map(function(e){return Q(e)});l(a)}).catch(function(e){return console.log(e)})}function i(e){e.stopPropagation(),e.preventDefault();var a=s.value;a&&a.length&&m(a)}return c.a.createElement(g.a,null,c.a.createElement(d.a,{xs:"auto"},c.a.createElement("h3",null,"Find companies to track"),c.a.createElement(k.a,{onSubmit:i},c.a.createElement(g.a,null,c.a.createElement(d.a,{sm:8},c.a.createElement(k.a.Control,{ref:s,type:"text",onChange:function(e){e.stopPropagation();var t=e.target.value;t.length&&(clearTimeout(a),a=setTimeout(function(){m(t)},500))}})),c.a.createElement(d.a,null,c.a.createElement(C.a,{onClick:i},"Search"))),c.a.createElement("p",null)),c.a.createElement(g.a,null,!!r.length&&c.a.createElement(d.a,{xs:"auto"},c.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("tbody",null,r.map(function(e,a){return c.a.createElement("tr",{key:e.symbol},c.a.createElement("td",null,"".concat(a+1,".")),c.a.createElement("td",null,e.symbol),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement(C.a,{disabled:o.includes(e.symbol),onClick:function(){t(e)}},"add")))})))))))}var R=t(98),O=t(48),F=t.n(O),N=t(49),j=t.n(N);function B(e){var a=e.companies.map(function(e){return c.a.createElement(R.a,{as:"li",key:e.symbol},c.a.createElement("img",{width:64,height:64,className:"mr-3",src:e.logo,alt:""}),c.a.createElement(R.a.Body,null,c.a.createElement("h5",null,e.name,c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("small",null,c.a.createElement("span",null,"\xa0\xa0"),"".concat(e.symbol),c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("a",{href:e.domain},e.domain))),c.a.createElement("p",null,"".concat(e.region," ").concat(e.marketOpen," - ").concat(e.marketClose," ").concat(e.timezone)),c.a.createElement("p",null,isNaN(e.price)?c.a.createElement("b",{className:"text-danger"},"Error"):c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,parseFloat(e.price).toFixed(2)),c.a.createElement("span",null,"\xa0"),e.currency,c.a.createElement("span",null,"\xa0\xa0"),c.a.createElement("span",{className:parseFloat(e.change)>0?"text-success":"text-danger"}," ".concat(parseFloat(e.change).toFixed(2)," (").concat(parseFloat(e.percentChange).toFixed(2),") "),parseFloat(e.change)>0?c.a.createElement("img",{src:F.a,style:{transform:"rotate(180deg)"},alt:""}):c.a.createElement("img",{src:j.a,alt:""})),c.a.createElement("span",null,"\xa0\xa0")," Closed: ",c.a.createElement("span",null,"\xa0"),e.closed))))});return c.a.createElement(g.a,null,c.a.createElement(d.a,{xs:"auto"},c.a.createElement("h2",null,"Companies:"),c.a.createElement("p",null),c.a.createElement("ul",null,a)))}var U=JSON.parse(localStorage.getItem("stockTrackerCompanies"))||[];var G=function(){var e=Object(n.useState)(U),a=Object(p.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)([]),o=Object(p.a)(l,2),f=o[0],k=o[1];function C(){return(C=Object(u.a)(s.a.mark(function e(){var a,n,c,l,o,m,i,u,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=!0,c=!1,l=void 0,e.prev=4,o=t[Symbol.iterator]();case 6:if(n=(m=o.next()).done){e.next=20;break}return i=m.value,e.next=10,b.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(i.symbol,"&apikey=").concat(x));case 10:u=e.sent,p=Q(u.data["Global Quote"]),i.change=p.change,i.percentChange=p["change percent"],i.price=p.price,i.closed=p["latest trading day"],a.push(i);case 17:n=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),c=!0,l=e.t0;case 26:e.prev=26,e.prev=27,n||null==o.return||o.return();case 29:if(e.prev=29,!c){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(26);case 34:localStorage.setItem("stockTrackerCompanies",JSON.stringify(a)),r(a);case 36:case"end":return e.stop()}},e,null,[[4,22,26,34],[27,,29,33]])}))).apply(this,arguments)}function w(e){try{var a=Object(i.a)({},e),n=function(e){return e.toLowerCase().replace("inc.","").replace("L.P.","").replace("technologies","").replace("ltd.","").replace("corporation","").replace("company","").replace("holdings","").replace("corp.","").replace("plc","").replace("s.a.","").replace("& co.","").replace("oyj","").trim()}(e.name);b.a.get("https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(n)).then(function(e){a.logo=e.data[0].logo||"",a.domain=e.data[0].domain||""}).then(function(){return b.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(e.symbol,"&apikey=").concat(x))}).then(function(e){var t=Q(e.data["Global Quote"]);a.change=t.change,a.percentChange=t["change percent"],a.price=t.price,a.closed=t["latest trading day"]}).catch(function(e){return console.log(e)}).finally(function(){var e=[].concat(Object(m.a)(t),[a]);localStorage.setItem("stockTrackerCompanies",JSON.stringify(e)),r(e)})}catch(c){console.log(c.message)}}return Object(n.useEffect)(function(){!function(){C.apply(this,arguments)}()},[]),c.a.createElement(y.a,null,c.a.createElement(A.a,{bg:"light",expand:"sm"},c.a.createElement(A.a.Brand,{href:"#home"},"Stock tracker"),c.a.createElement(E.a,{className:"mr-auto",onClick:function(){k([])}},c.a.createElement(y.b,{className:"btn",to:"/"},"Home"),c.a.createElement(y.b,{className:"btn",to:"/find"},"Find Companies"),c.a.createElement(y.b,{className:"btn",to:"/companies"},"Companies"))),c.a.createElement(h.a,null,c.a.createElement(v.a,{path:"/",exact:!0,component:function(){return c.a.createElement(g.a,null,c.a.createElement(d.a,{sm:"auto"},c.a.createElement("h2",null,"Welcome on our Stock tracker"),t.length?c.a.createElement("p",null,c.a.createElement(y.b,{to:"/companies"},"Track your companies")):c.a.createElement("p",null,"There are no companies yet.",c.a.createElement(y.b,{to:"/find"}," Track your first company."))))}}),c.a.createElement(v.a,{path:"/companies",component:function(){return c.a.createElement(B,{companies:t})}}),c.a.createElement(v.a,{path:"/find",component:function(){return c.a.createElement(S,{addCompany:w,companies:t,results:f,updateResults:k})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,1,2]]]);
//# sourceMappingURL=main.3373b779.chunk.js.map