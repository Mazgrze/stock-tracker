{"version":3,"sources":["Companies/up.png","Companies/down.png","utils/api.js","utils/utils.js","Company-finder/Company-finder.jsx","Companies/Companies.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","process","cleanKeys","apiObject","arguments","length","undefined","cleanItem","_i","_Object$entries","Object","entries","_ref3","_ref2","slicedToArray","key","val","replace","CompanyFinder","_ref","throttle","addCompany","companies","results","updateResults","selected","map","el","symbol","input","React","createRef","askApi","keyWord","axios","get","concat","encodeURI","apiKey","then","resp","companyList","data","bestMatches","catch","x","console","log","submitSearch","e","stopPropagation","preventDefault","value","react_default","a","createElement","Row","Col","xs","Form","onSubmit","sm","Control","ref","type","onChange","target","clearTimeout","setTimeout","Button","onClick","Table","striped","bordered","hover","index","name","disabled","includes","Companies","company","Media","as","width","height","className","src","logo","alt","Body","href","domain","region","marketOpen","marketClose","timezone","isNaN","price","Fragment","parseFloat","toFixed","currency","change","percentChange","upImage","style","transform","downImage","closed","cachedCompanies","JSON","parse","localStorage","getItem","App","_useState","useState","_useState2","setCompanies","_useState3","_useState4","searchResults","setSearchResults","_updateStock","asyncToGenerator","regenerator_default","mark","_callee","updatedCompanies","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","request","apiData","wrap","_context","prev","next","Symbol","iterator","done","Axios","sent","push","t0","return","finish","setItem","stringify","stop","apply","this","newCompany","objectSpread","toLowerCase","trim","cleanCompanyName","response","quote","finally","newCompanies","toConsumableArray","message","useEffect","updateStock","react_router_dom","basename","Navbar","bg","expand","Brand","Nav","to","Container","react_router","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c27bcbe7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVDhPjZExDgFBFIb/WRIKEoVC4QBKjWgcQ0HiBgpuolQqNXqNRHTYFQV32MIBFDZ4781kZc2M9SWz++Zlvn9mMnCyRxMRzjQeNJamaxGYf5YiRvRtSwUMJMyBW36hbCpNSUIs3PKfaPmKCrZfu/mIUKe1cpKAJj3cEZMeS/2LI6b0vdHaCw5o8M5zKJoq1Oiua28AiwFmUiu0UMA4oGIjDYZDOEChazqaJyapqEmot1Ny/qq8ZV/3c0logyE6WCmZ/h+QijzRMpMfkBGZj8z4AyyRycqMHeAU/XDACQuE9Kah7xrAGxFgQAnvDXZDAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADESURBVDhPjZCxDcIwEEWPKAUFJQUFBYOkZAQGoaREYgBGoKRgAMagYAiKlCkjEd6ZOykxcfCXns4+3/+xI2N6i6zhAS1crZ2nTuQAnaNhdjRQYTXW3GrQTKS05UApc5aCmastYPC1lJhbQrhJwaKCl1GFiYR4+55SM/eElTZ04T+m0QA4es/YqLHfY39S8zlqNnCPevFMS93qG0o2t/7hFGqE3fchiGZWwI/RxeFkQNLoYmg04K/RFQdkG10WcIE6bRT5AMwdtKji/BXnAAAAAElFTkSuQmCC\"","export default (process.env.NODE_ENV === 'production'\r\n  ? '4WWYR8B8JJZYQWHU' // Production key\r\n  : '4WWYR8B8JJZYQWHU_TEST'); // Dev key\r\n","export default function cleanKeys(apiObject = {}) {\r\n  const cleanItem = {};\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const [key, val] of Object.entries(apiObject)) {\r\n    cleanItem[key.replace(/\\d+\\.\\s+/gi, '')] = val;\r\n  }\r\n  return cleanItem;\r\n}\r\n\r\nexport function cleanCompanyName(name) {\r\n  return name\r\n    .toLowerCase()\r\n    .replace('inc.', '')\r\n    .replace('L.P.', '')\r\n    .replace('technologies', '')\r\n    .replace('ltd.', '')\r\n    .replace('corporation', '')\r\n    .replace('company', '')\r\n    .replace('holdings', '')\r\n    .replace('corp.', '')\r\n    .replace('plc', '')\r\n    .replace('s.a.', '')\r\n    .replace('& co.', '')\r\n    .replace('oyj', '')\r\n    .trim();\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Form, Button, Row, Col, Table,\r\n} from 'react-bootstrap';\r\nimport apiKey from '../utils/api';\r\nimport cleanKeys from '../utils/utils';\r\n\r\nexport default function CompanyFinder({\r\n  addCompany, companies, results, updateResults,\r\n}) {\r\n  let throttle;\r\n  const selected = companies.map(el => el.symbol);\r\n\r\n  const input = React.createRef();\r\n\r\n  function askApi(keyWord) {\r\n    axios\r\n      .get(\r\n        `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${encodeURI(\r\n          keyWord,\r\n        )}&apikey=${apiKey}`,\r\n      )\r\n      .then((resp) => {\r\n        // Clean data keys\r\n        const companyList = resp.data.bestMatches.map(el => cleanKeys(el));\r\n        updateResults(companyList);\r\n      })\r\n      // eslint-disable-next-line no-console\r\n      .catch(x => console.log(x));\r\n  }\r\n\r\n  function debaunceRequests(e) {\r\n    e.stopPropagation();\r\n    const val = e.target.value;\r\n    if (val.length) {\r\n      // Debaunce input\r\n      clearTimeout(throttle);\r\n      throttle = setTimeout(() => {\r\n        askApi(val);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  function submitSearch(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const val = input.value;\r\n    if (val && val.length) {\r\n      askApi(val);\r\n    }\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col xs=\"auto\">\r\n        <h3>Find companies to track</h3>\r\n        <Form onSubmit={submitSearch}>\r\n          <Row>\r\n            <Col sm={8}>\r\n              <Form.Control ref={input} type=\"text\" onChange={debaunceRequests} />\r\n            </Col>\r\n            <Col>\r\n              <Button onClick={submitSearch}>Search</Button>\r\n            </Col>\r\n          </Row>\r\n          <p />\r\n        </Form>\r\n        <Row>\r\n          {!!results.length && (\r\n            <Col xs=\"auto\">\r\n              <Table striped bordered hover>\r\n                <tbody>\r\n                  {results.map((el, index) => (\r\n                    <tr key={el.symbol}>\r\n                      <td>{`${index + 1}.`}</td>\r\n                      <td>{el.symbol}</td>\r\n                      <td>{el.name}</td>\r\n                      <td>\r\n                        <Button\r\n                          disabled={selected.includes(el.symbol)}\r\n                          onClick={() => {\r\n                            addCompany(el);\r\n                          }}\r\n                        >\r\n                          add\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Media, Row, Col } from 'react-bootstrap';\r\nimport upImage from './up.png';\r\nimport downImage from './down.png';\r\n\r\nexport default function Companies({ companies }) {\r\n  const companyList = companies.map(company => (\r\n    <Media as=\"li\" key={company.symbol}>\r\n      <img width={64} height={64} className=\"mr-3\" src={company.logo} alt=\"\" />\r\n      <Media.Body>\r\n        <h5>\r\n          {company.name}\r\n          <span>&nbsp;&nbsp;</span>\r\n          <small>\r\n            <span>&nbsp;&nbsp;</span>\r\n            {`${company.symbol}`}\r\n            <span>&nbsp;&nbsp;</span>\r\n            <a href={company.domain}>{company.domain}</a>\r\n          </small>\r\n        </h5>\r\n        <p>\r\n          {`${company.region} ${company.marketOpen} - ${company.marketClose} ${company.timezone}`}\r\n        </p>\r\n        <p>\r\n          {isNaN(company.price) ? (\r\n            <b className=\"text-danger\">Error</b>\r\n          ) : (\r\n            <>\r\n              <b>{parseFloat(company.price).toFixed(2)}</b>\r\n              <span>&nbsp;</span>\r\n              {company.currency}\r\n              <span>&nbsp;&nbsp;</span>\r\n              <span className={parseFloat(company.change) > 0 ? 'text-success' : 'text-danger'}>\r\n                {` ${parseFloat(company.change).toFixed(2)} (${parseFloat(\r\n                  company.percentChange,\r\n                ).toFixed(2)}) `}\r\n                {parseFloat(company.change) > 0 ? (\r\n                  <img src={upImage} style={{ transform: 'rotate(180deg)' }} alt=\"\" />\r\n                ) : (\r\n                  <img src={downImage} alt=\"\" />\r\n                )}\r\n              </span>\r\n              <span>&nbsp;&nbsp;</span>\r\n              {' Closed: '}\r\n              <span>&nbsp;</span>\r\n              {company.closed}\r\n            </>\r\n          )}\r\n        </p>\r\n      </Media.Body>\r\n    </Media>\r\n  ));\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs=\"auto\">\r\n        <h2>Companies:</h2>\r\n        <p />\r\n        <ul>{companyList}</ul>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\nimport {\n  Row, Container, Navbar, Nav, Col,\n} from 'react-bootstrap';\nimport Axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport CompanyFinder from './Company-finder/Company-finder';\nimport Companies from './Companies/Companies';\nimport apiKey from './utils/api';\nimport cleanKeys, { cleanCompanyName } from './utils/utils';\n\nconst cachedCompanies = JSON.parse(localStorage.getItem('stockTrackerCompanies')) || [];\n\nfunction App() {\n  const [companies, setCompanies] = useState(cachedCompanies);\n  const [searchResults, setSearchResults] = useState([]);\n  /* eslint-disable no-restricted-syntax */\n  async function updateStock() {\n    const updatedCompanies = [];\n\n    for (const company of companies) {\n      // eslint-disable-next-line no-await-in-loop\n      const request = await Axios.get(\n        `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${\n          company.symbol\n        }&apikey=${apiKey}`,\n      );\n\n      const apiData = cleanKeys(request.data['Global Quote']);\n      company.change = apiData.change;\n      company.percentChange = apiData['change percent'];\n      company.price = apiData.price;\n      company.closed = apiData['latest trading day'];\n      updatedCompanies.push(company);\n    }\n    localStorage.setItem('stockTrackerCompanies', JSON.stringify(updatedCompanies));\n    setCompanies(updatedCompanies);\n  }\n  /* eslint-enable no-restricted-syntax */\n\n  useEffect(() => {\n    updateStock();\n  }, []);\n\n  function addCompany(company) {\n    try {\n      const newCompany = { ...company };\n      const name = cleanCompanyName(company.name);\n      // Get logo\n      Axios.get(`https://autocomplete.clearbit.com/v1/companies/suggest?query=${name}`)\n        .then((response) => {\n          newCompany.logo = response.data[0].logo || '';\n          newCompany.domain = response.data[0].domain || '';\n        })\n        .then(() => Axios.get(\n          `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${\n            company.symbol\n          }&apikey=${apiKey}`,\n        ))\n        .then((resp) => {\n          const quote = cleanKeys(resp.data['Global Quote']);\n          newCompany.change = quote.change;\n          newCompany.percentChange = quote['change percent'];\n          newCompany.price = quote.price;\n          newCompany.closed = quote['latest trading day'];\n        })\n        // eslint-disable-next-line no-console\n        .catch(e => console.log(e))\n        .finally(() => {\n          const newCompanies = [...companies, newCompany];\n          localStorage.setItem('stockTrackerCompanies', JSON.stringify(newCompanies));\n          setCompanies(newCompanies);\n        });\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(e.message);\n    }\n  }\n\n  function clearResults() {\n    setSearchResults([]);\n  }\n\n  return (\n    <Router basename={process.env.NODE_ENV === 'production' ? '/stock-tracker' : ''}>\n      <Navbar bg=\"light\" expand=\"sm\">\n        <Navbar.Brand href=\"#home\">Stock tracker</Navbar.Brand>\n        <Nav className=\"mr-auto\" onClick={clearResults}>\n          <Link className=\"btn\" to=\"/\">\n            Home\n          </Link>\n          <Link className=\"btn\" to=\"/find\">\n            Find Companies\n          </Link>\n          <Link className=\"btn\" to=\"/companies\">\n            Companies\n          </Link>\n        </Nav>\n      </Navbar>\n      <Container>\n        <Route\n          path=\"/\"\n          exact\n          component={() => (\n            <Row>\n              <Col sm=\"auto\">\n                <h2>Welcome on our Stock tracker</h2>\n                {companies.length ? (\n                  <p>\n                    <Link to=\"/companies\">Track your companies</Link>\n                  </p>\n                ) : (\n                  <p>\n                    There are no companies yet.\n                    <Link to=\"/find\"> Track your first company.</Link>\n                  </p>\n                )}\n              </Col>\n            </Row>\n          )}\n        />\n        <Route path=\"/companies\" component={() => <Companies companies={companies} />} />\n        <Route\n          path=\"/find\"\n          component={() => (\n            <CompanyFinder\n              addCompany={addCompany}\n              companies={companies}\n              results={searchResults}\n              updateResults={setSearchResults}\n            />\n          )}\n        />\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/scss/bootstrap.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// eslint-disable-next-line react/jsx-filename-extension\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}