{"version":3,"sources":["Companies/up.png","Companies/down.png","utils/api.js","utils/utils.js","Company-finder/Company-finder.jsx","Companies/Companies.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","process","cleanKeys","apiObject","arguments","length","undefined","cleanItem","_i","_Object$entries","Object","entries","_ref3","_ref2","slicedToArray","key","val","replace","CompanyFinder","_ref","throttle","addCompany","companies","results","updateResults","selected","map","el","symbol","input","React","createRef","askApi","keyWord","axios","get","concat","encodeURI","apiKey","then","resp","companyList","data","bestMatches","catch","x","console","log","submitSearch","e","stopPropagation","preventDefault","value","react_default","a","createElement","Row","Col","xs","Form","onSubmit","sm","Control","ref","type","onChange","target","clearTimeout","setTimeout","Button","onClick","Table","striped","bordered","hover","index","name","disabled","includes","Companies","company","Media","as","width","height","className","src","logo","alt","Body","href","domain","region","marketOpen","marketClose","timezone","isNaN","price","Fragment","parseFloat","toFixed","currency","change","percentChange","upImage","style","transform","downImage","closed","cachedCompanies","JSON","parse","localStorage","getItem","App","_useState","useState","_useState2","setCompanies","_useState3","_useState4","searchResults","setSearchResults","_updateStock","asyncToGenerator","regenerator_default","mark","_callee","updatedCompanies","requests","wrap","_context","prev","next","obj","objectSpread","v","i","companyIndex","companiesArray","getData","_this","this","Axios","response","apiData","Math","random","Promise","all","setItem","stringify","stop","apply","newCompany","toLowerCase","trim","cleanCompanyName","quote","finally","newCompanies","toConsumableArray","message","useEffect","updateStock","react_router_dom","Navbar","bg","expand","Brand","Nav","to","Container","react_router","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.988ba333.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVDhPjZExDgFBFIb/WRIKEoVC4QBKjWgcQ0HiBgpuolQqNXqNRHTYFQV32MIBFDZ4781kZc2M9SWz++Zlvn9mMnCyRxMRzjQeNJamaxGYf5YiRvRtSwUMJMyBW36hbCpNSUIs3PKfaPmKCrZfu/mIUKe1cpKAJj3cEZMeS/2LI6b0vdHaCw5o8M5zKJoq1Oiua28AiwFmUiu0UMA4oGIjDYZDOEChazqaJyapqEmot1Ny/qq8ZV/3c0logyE6WCmZ/h+QijzRMpMfkBGZj8z4AyyRycqMHeAU/XDACQuE9Kah7xrAGxFgQAnvDXZDAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADESURBVDhPjZCxDcIwEEWPKAUFJQUFBYOkZAQGoaREYgBGoKRgAMagYAiKlCkjEd6ZOykxcfCXns4+3/+xI2N6i6zhAS1crZ2nTuQAnaNhdjRQYTXW3GrQTKS05UApc5aCmastYPC1lJhbQrhJwaKCl1GFiYR4+55SM/eElTZ04T+m0QA4es/YqLHfY39S8zlqNnCPevFMS93qG0o2t/7hFGqE3fchiGZWwI/RxeFkQNLoYmg04K/RFQdkG10WcIE6bRT5AMwdtKji/BXnAAAAAElFTkSuQmCC\"","export default (process.env.NODE_ENV === 'production'\r\n  ? '4WWYR8B8JJZYQWHU' // Production key\r\n  : '4WWYR8B8JJZYQWHU_TEST'); // Dev key\r\n","export default function cleanKeys(apiObject = {}) {\r\n  const cleanItem = {};\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const [key, val] of Object.entries(apiObject)) {\r\n    cleanItem[key.replace(/\\d+\\.\\s+/gi, '')] = val;\r\n  }\r\n  return cleanItem;\r\n}\r\n\r\nexport function cleanCompanyName(name) {\r\n  return name\r\n    .toLowerCase()\r\n    .replace('inc.', '')\r\n    .replace('L.P.', '')\r\n    .replace('technologies', '')\r\n    .replace('ltd.', '')\r\n    .replace('corporation', '')\r\n    .replace('company', '')\r\n    .replace('holdings', '')\r\n    .replace('corp.', '')\r\n    .replace('plc', '')\r\n    .replace('s.a.', '')\r\n    .replace('& co.', '')\r\n    .replace('oyj', '')\r\n    .trim();\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Form, Button, Row, Col, Table,\r\n} from 'react-bootstrap';\r\nimport apiKey from '../utils/api';\r\nimport cleanKeys from '../utils/utils';\r\n\r\nexport default function CompanyFinder({\r\n  addCompany, companies, results, updateResults,\r\n}) {\r\n  let throttle;\r\n  const selected = companies.map(el => el.symbol);\r\n\r\n  const input = React.createRef();\r\n\r\n  function askApi(keyWord) {\r\n    axios\r\n      .get(\r\n        `https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${encodeURI(\r\n          keyWord,\r\n        )}&apikey=${apiKey}`,\r\n      )\r\n      .then((resp) => {\r\n        // Clean data keys\r\n        const companyList = resp.data.bestMatches.map(el => cleanKeys(el));\r\n        updateResults(companyList);\r\n      })\r\n      // eslint-disable-next-line no-console\r\n      .catch(x => console.log(x));\r\n  }\r\n\r\n  function debounceRequests(e) {\r\n    e.stopPropagation();\r\n    const val = e.target.value;\r\n    if (val.length) {\r\n      // Debounce input\r\n      clearTimeout(throttle);\r\n      throttle = setTimeout(() => {\r\n        askApi(val);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  function submitSearch(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const val = input.value;\r\n    if (val && val.length) {\r\n      askApi(val);\r\n    }\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col xs=\"auto\">\r\n        <h3>Find companies to track</h3>\r\n        <Form onSubmit={submitSearch}>\r\n          <Row>\r\n            <Col sm={8}>\r\n              <Form.Control ref={input} type=\"text\" onChange={debounceRequests} />\r\n            </Col>\r\n            <Col>\r\n              <Button onClick={submitSearch}>Search</Button>\r\n            </Col>\r\n          </Row>\r\n          <p />\r\n        </Form>\r\n        <Row>\r\n          {!!results.length && (\r\n            <Col xs=\"auto\">\r\n              <Table striped bordered hover>\r\n                <tbody>\r\n                  {results.map((el, index) => (\r\n                    <tr key={el.symbol}>\r\n                      <td>{`${index + 1}.`}</td>\r\n                      <td>{el.symbol}</td>\r\n                      <td>{el.name}</td>\r\n                      <td>\r\n                        <Button\r\n                          disabled={selected.includes(el.symbol)}\r\n                          onClick={() => {\r\n                            addCompany(el);\r\n                          }}\r\n                        >\r\n                          add\r\n                        </Button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Media, Row, Col } from 'react-bootstrap';\r\nimport upImage from './up.png';\r\nimport downImage from './down.png';\r\n\r\nexport default function Companies({ companies }) {\r\n  const companyList = companies.map(company => (\r\n    <Media as=\"li\" key={company.symbol}>\r\n      <img width={64} height={64} className=\"mr-3\" src={company.logo} alt=\"\" />\r\n      <Media.Body>\r\n        <h5>\r\n          {company.name}\r\n          <span>&nbsp;&nbsp;</span>\r\n          <small>\r\n            <span>&nbsp;&nbsp;</span>\r\n            {`${company.symbol}`}\r\n            <span>&nbsp;&nbsp;</span>\r\n            <a href={company.domain}>{company.domain}</a>\r\n          </small>\r\n        </h5>\r\n        <p>\r\n          {`${company.region} ${company.marketOpen} - ${company.marketClose} ${company.timezone}`}\r\n        </p>\r\n        <p>\r\n          {isNaN(company.price) ? (\r\n            <b className=\"text-danger\">Error</b>\r\n          ) : (\r\n            <>\r\n              <b>{parseFloat(company.price).toFixed(2)}</b>\r\n              <span>&nbsp;</span>\r\n              {company.currency}\r\n              <span>&nbsp;&nbsp;</span>\r\n              <span className={parseFloat(company.change) > 0 ? 'text-success' : 'text-danger'}>\r\n                {` ${parseFloat(company.change).toFixed(2)} (${parseFloat(\r\n                  company.percentChange,\r\n                ).toFixed(2)}) `}\r\n                {parseFloat(company.change) > 0 ? (\r\n                  <img src={upImage} style={{ transform: 'rotate(180deg)' }} alt=\"\" />\r\n                ) : (\r\n                  <img src={downImage} alt=\"\" />\r\n                )}\r\n              </span>\r\n              <span>&nbsp;&nbsp;</span>\r\n              {' Closed: '}\r\n              <span>&nbsp;</span>\r\n              {company.closed}\r\n            </>\r\n          )}\r\n        </p>\r\n      </Media.Body>\r\n    </Media>\r\n  ));\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs=\"auto\">\r\n        <h2>Companies:</h2>\r\n        <p />\r\n        <ul>{companyList}</ul>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Row, Container, Navbar, Nav, Col,\r\n} from 'react-bootstrap';\r\nimport Axios from 'axios';\r\nimport { HashRouter as Router, Route, Link } from 'react-router-dom';\r\nimport CompanyFinder from './Company-finder/Company-finder';\r\nimport Companies from './Companies/Companies';\r\nimport apiKey from './utils/api';\r\nimport cleanKeys, { cleanCompanyName } from './utils/utils';\r\n\r\nconst cachedCompanies = JSON.parse(localStorage.getItem('stockTrackerCompanies')) || [];\r\n\r\nfunction App() {\r\n  const [companies, setCompanies] = useState(cachedCompanies);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  function companyFactory(companyIndex, companiesArray) {\r\n    return {\r\n      index: companyIndex,\r\n      symbol: companiesArray[companyIndex].symbol,\r\n      getData() {\r\n        return Axios.get(\r\n          `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${\r\n            // eslint-disable-next-line react/no-this-in-sfc\r\n            this.symbol\r\n          }&apikey=${apiKey}`,\r\n        ).then((response) => {\r\n          const apiData = cleanKeys(response.data['Global Quote']);\r\n          /* eslint-disable no-param-reassign */\r\n          companiesArray[this.index].change = Math.random() * (30 - 0) + 0;\r\n          companiesArray[this.index].percentChange = Math.random(); // \"-0.8240%\"\r\n          companiesArray[this.index].price = Math.random() * 100;\r\n          companiesArray[this.index].closed = apiData['latest trading day'];\r\n          /* eslint-enable no-param-reassign */\r\n          setCompanies(companiesArray);\r\n        });\r\n      },\r\n    };\r\n  }\r\n\r\n  async function updateStock() {\r\n    // deep copy\r\n    const updatedCompanies = companies.map(obj => ({ ...obj }));\r\n    let requests = updatedCompanies.map((v, i) => companyFactory(i, updatedCompanies));\r\n    requests = requests.map(obj => obj.getData());\r\n    Promise.all(requests).then(() => {\r\n      // save updated data\r\n      localStorage.setItem('stockTrackerCompanies', JSON.stringify(updatedCompanies));\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateStock();\r\n  }, []);\r\n\r\n  function addCompany(company) {\r\n    try {\r\n      const newCompany = { ...company };\r\n      const name = cleanCompanyName(company.name);\r\n      // Get logo\r\n      Axios.get(`https://autocomplete.clearbit.com/v1/companies/suggest?query=${name}`)\r\n        .then((response) => {\r\n          newCompany.logo = response.data[0].logo || '';\r\n          newCompany.domain = response.data[0].domain || '';\r\n        })\r\n        .then(() => Axios.get(\r\n          `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${\r\n            company.symbol\r\n          }&apikey=${apiKey}`,\r\n        ))\r\n        .then((resp) => {\r\n          const quote = cleanKeys(resp.data['Global Quote']);\r\n          newCompany.change = quote.change;\r\n          newCompany.percentChange = quote['change percent'];\r\n          newCompany.price = quote.price;\r\n          newCompany.closed = quote['latest trading day'];\r\n        })\r\n        // eslint-disable-next-line no-console\r\n        .catch(e => console.log(e))\r\n        .finally(() => {\r\n          const newCompanies = [...companies, newCompany];\r\n          localStorage.setItem('stockTrackerCompanies', JSON.stringify(newCompanies));\r\n          setCompanies(newCompanies);\r\n        });\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  function clearResults() {\r\n    setSearchResults([]);\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <Navbar bg=\"light\" expand=\"sm\">\r\n        <Navbar.Brand href=\"#home\">Stock tracker</Navbar.Brand>\r\n        <Nav className=\"mr-auto\" onClick={clearResults}>\r\n          <Link className=\"btn\" to=\"/\">\r\n            Home\r\n          </Link>\r\n          <Link className=\"btn\" to=\"/find\">\r\n            Find Companies\r\n          </Link>\r\n          <Link className=\"btn\" to=\"/companies\">\r\n            Companies\r\n          </Link>\r\n        </Nav>\r\n      </Navbar>\r\n      <Container>\r\n        <Route\r\n          path=\"/\"\r\n          exact\r\n          component={() => (\r\n            <Row>\r\n              <Col sm=\"auto\">\r\n                <h2>Welcome on our Stock tracker</h2>\r\n                {companies.length ? (\r\n                  <p>\r\n                    <Link to=\"/companies\">Track your companies</Link>\r\n                  </p>\r\n                ) : (\r\n                  <p>\r\n                    There are no companies yet.\r\n                    <Link to=\"/find\"> Track your first company.</Link>\r\n                  </p>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        />\r\n        <Route path=\"/companies\" component={() => <Companies companies={companies} />} />\r\n        <Route\r\n          path=\"/find\"\r\n          component={() => (\r\n            <CompanyFinder\r\n              addCompany={addCompany}\r\n              companies={companies}\r\n              results={searchResults}\r\n              updateResults={setSearchResults}\r\n            />\r\n          )}\r\n        />\r\n      </Container>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/scss/bootstrap.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// eslint-disable-next-line react/jsx-filename-extension\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}